<!DOCTYPE html>
<html lang="so">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Matrix Love Pro</title>
    <style>
        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            overflow: hidden;
            font-family: 'Courier New', Courier, monospace;
            background: #000;
        }

        /* BACKGROUNDS */
        .bg {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-size: cover;
            background-position: center;
            z-index: 1;
            transition: opacity 1s ease-in-out;
        }

        #bg1-2 { background-image: url('5.jpeg'); opacity: 1; }
        #bg3 { background-image: url('bg4.jpeg'); opacity: 0; }

        .page {
            position: absolute;
            width: 100%; height: 100%;
            display: flex; justify-content: center;
            align-items: center; z-index: 10;
        }

        /* PAGE 1 */
        #page1 { font-color: black; flex-direction: column; }
        .gift-img { width: 160px; cursor: pointer; animation: bounce 2s infinite; }

        /* PAGE 2: MATRIX COUNTDOWN */
        #page2 { 
            display: none; 
            font-size: clamp(150px, 40vw, 250px); /* Aad u weyn */
            color: red; /* Matrix Green */
            font-weight: bold;
            */text-shadow: 0 0 20px #00ff41, 0 0 40px #00ff41;*/ 
text-shadow: 0 0 50px #ff0044;
            font-family: 'Courier New', Courier, monospace;
        }

        /* PAGE 3 */
        #page3 { display: none; width: 100%; height: 100%; }
        canvas { position: absolute; top: 0; left: 0; z-index: 5; }

        #final-wrapper {
            position: relative;
            width: 100%; height: 100%;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            z-index: 15; pointer-events: none;
        }

        .girl-name {
            font-size: clamp(22px, 6vw, 30px);
            color: #fff;
            text-shadow: 0 0 25px #ff0044;
            font-weight: 900;
            opacity: 0;
            transform: translateY(-10px);
            text-align: center;
        }

        .message-container {
            position: absolute;
            bottom: 12%;
            width: 90%;
            text-align: center;
            opacity: 0;
        }

        .hambalyo-title {
            font-size: clamp(24px, 8vw, 36px);
            font-weight: bold;
            color: #ff0044;
            text-shadow: 0 0 10px #ff0044;
            display: block;
        }

        .jaceyl-text {
            font-size: clamp(16px, 4.5vw, 20px);
text-shadow: 0 0 10px #ff0044;
            font-weight: 800;
            color: #ffffff;
            display: block;
        }

        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        @keyframes simpleFade { to { opacity: 1; } }
    </style>
</head>
<body>

    <div id="bg1-2" class="bg"></div>
    <div id="bg3" class="bg"></div>

    <div id="page1" class="page">
        <img src="teddy.png" class="gift-img" onclick="startSequence()">
        <p style="color: white; font-weight: bold; margin-top: 20px;"></p>
    </div>

    <div id="page2" class="page">3</div>

    <div id="page3">
        <canvas id="matrix-canvas"></canvas>
        <div id="final-wrapper">
            <h1 id="name-display" class="girl-name">NANY</h1> 
            <div id="msg-display" class="message-container">
                <span class="hambalyo-title">QALIDEYDI JACEYLKEYGA!</span>
                <span class="jaceyl-text">Waxaad tahay qofka ugu qaalisan nolosheyda ❤️</span>
            </div>
        </div>
    </div>

    <audio id="music" src="hees.mp3"></audio>

    <script>
        const music = document.getElementById('music');
        
        function startSequence() {
            document.getElementById('page1').style.display = 'none';
            document.getElementById('page2').style.display = 'flex';
            music.play();

            let count = 3;
            let timer = setInterval(() => {
                count--;
                if(count > 0) {
                    document.getElementById('page2').innerText = count;
                } else {
                    clearInterval(timer);
                    showFinalPage();
                }
            }, 1000);
        }

        function showFinalPage() {
            document.getElementById('page2').style.display = 'none';
            document.getElementById('bg1-2').style.opacity = '0';
            document.getElementById('bg3').style.opacity = '1';
            document.getElementById('page3').style.display = 'block';
            initMatrix();
        }

        const canvas = document.getElementById('matrix-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        let heartFormed = false;

        function initMatrix() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            let scale = Math.min(window.innerWidth / 45, 7.5);
            
            for (let i = 0; i < 350; i++) {
                let t = Math.random() * Math.PI * 2;
                let x = 16 * Math.pow(Math.sin(t), 3);
                let y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    tx: x * scale + canvas.width / 2,
                    ty: y * scale + canvas.height / 2,
                    char: "10#@"[Math.floor(Math.random()*4)]
                });
            }
            animate();
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "#ff0044";
            ctx.font = "10px monospace";

            let arrived = 0;
            particles.forEach(p => {
                let dx = p.tx - p.x;
                let dy = p.ty - p.y;
                p.x += dx * 0.05;
                p.y += dy * 0.05;
                ctx.fillText(p.char, p.x, p.y);
                if(Math.abs(dx) < 1) arrived++;
            });

            if(arrived > 300 && !heartFormed) {
                heartFormed = true;
                setTimeout(() => {
                    document.getElementById('name-display').style.animation = "simpleFade 2s forwards";
                }, 500);
                setTimeout(() => {
                    document.getElementById('msg-display').style.animation = "simpleFade 2s forwards";
                }, 1500);
            }
            requestAnimationFrame(animate);
        }
    </script>
</body>
</html>
